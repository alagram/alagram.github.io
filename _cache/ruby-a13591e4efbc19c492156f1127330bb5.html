<div class="highlight"><pre><span class="o">&lt;</span><span class="sr">/p&gt;</span>

<span class="sr">&lt;h1&gt;lib/</span><span class="n">tasks</span><span class="o">/</span><span class="n">deploy</span><span class="o">.</span><span class="n">rake</span><span class="o">&lt;</span><span class="sr">/h1&gt;</span>

<span class="sr">&lt;p&gt;require &amp;lsquo;paratrooper&amp;rsquo;&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span><span class="n">namespace</span> <span class="ss">:deploy</span> <span class="k">do</span>
 <span class="n">desc</span> <span class="o">&amp;</span><span class="n">lsquo</span><span class="p">;</span><span class="no">Deploy</span> <span class="n">app</span> <span class="k">in</span> <span class="n">staging</span> <span class="n">environment</span><span class="o">&amp;</span><span class="n">rsquo</span><span class="p">;</span>
 <span class="n">task</span> <span class="ss">:staging</span> <span class="k">do</span>
   <span class="n">deployment</span> <span class="o">=</span> <span class="no">Paratrooper</span><span class="o">::</span><span class="no">Deploy</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ldquo</span><span class="p">;</span><span class="n">googleclone</span><span class="o">-</span><span class="n">staging</span><span class="o">&amp;</span><span class="n">rdquo</span><span class="p">;,</span> <span class="ss">tag</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">lsquo</span><span class="p">;</span><span class="n">staging</span><span class="o">&amp;</span><span class="n">rsquo</span><span class="p">;)</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>

<span class="sr">&lt;p&gt;   deployment.deploy</span>
<span class="sr"> end&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span> <span class="n">desc</span> <span class="o">&amp;</span><span class="n">lsquo</span><span class="p">;</span><span class="no">Deploy</span> <span class="n">app</span> <span class="k">in</span> <span class="n">production</span> <span class="n">environment</span><span class="o">&amp;</span><span class="n">rsquo</span><span class="p">;</span>
 <span class="n">task</span> <span class="ss">:production</span> <span class="k">do</span>
   <span class="n">deployment</span> <span class="o">=</span> <span class="no">Paratrooper</span><span class="o">::</span><span class="no">Deploy</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ldquo</span><span class="p">;</span><span class="n">googleclone</span><span class="o">&amp;</span><span class="n">rdquo</span><span class="p">;)</span> <span class="k">do</span> <span class="o">|</span><span class="n">deploy</span><span class="o">|</span>
     <span class="n">deploy</span><span class="o">.</span><span class="n">tag</span>              <span class="o">=</span> <span class="o">&amp;</span><span class="n">lsquo</span><span class="p">;</span><span class="n">production</span><span class="o">&amp;</span><span class="n">rsquo</span><span class="p">;,</span>
     <span class="n">deploy</span><span class="o">.</span><span class="n">match_tag</span>        <span class="o">=</span> <span class="o">&amp;</span><span class="n">lsquo</span><span class="p">;</span><span class="n">staging</span><span class="o">&amp;</span><span class="n">rsquo</span><span class="p">;</span>
   <span class="k">end</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>

<span class="sr">&lt;p&gt;   deployment.deploy</span>
<span class="sr"> end</span>
<span class="sr">end&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>
</pre></div>